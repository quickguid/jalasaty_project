<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>جلستي – الكرسي الصحي الذكي</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <style>
    body {
      background-color: #f6f9fc;
      font-family: 'Cairo', sans-serif;
      color: #000;
    }
    .navbar {
      background-color: #fff !important;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }
    .navbar-brand {
      font-size: 1.6rem;
      font-weight: bold;
      color: #0d1b2a !important;
    }
    .nav-link {
      color: #333 !important;
      margin-inline: 8px;
    }
    .nav-link:hover {
      color: #007bff !important;
    }
    .section-box {
      max-width: 1140px;
      margin: 80px auto;
      background: #fff;
      border-radius: 16px;
      padding: 60px 40px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.06);
    }
    h2.section-title {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 40px;
      text-align: right;
      color: #222;
    }
    .icon-card {
      text-align: center;
      padding: 24px;
      border-radius: 12px;
      background: #f1f5f9;
      height: 100%;
    }
    .icon-card .icon {
      font-size: 2rem;
      margin-bottom: 12px;
    }
    .form-control, .form-select {
      background: #fff;
    }
    .btn-primary, .btn-success {
      padding: 10px 24px;
      font-weight: bold;
      border: none;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg fixed-top">
  <div class="container">
    <a class="navbar-brand" href="#">جلستي</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="#hero">الرئيسية</a></li>
        <li class="nav-item"><a class="nav-link" href="#problem">المشكلة</a></li>
        <li class="nav-item"><a class="nav-link" href="#goals">الأهداف</a></li>
        <li class="nav-item"><a class="nav-link" href="#form">بياناتك</a></li>
        <li class="nav-item"><a class="nav-link" href="#components">المكونات</a></li>
        <li class="nav-item"><a class="nav-link" href="#features">الميزات</a></li>
        <li class="nav-item"><a class="nav-link" href="#app">التطبيق</a></li>
        <li class="nav-item"><a class="nav-link" href="#conclusion">الخاتمة</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero -->
<section id="hero" class="hero">
  <div class="section-box text-center">
    <h1 class="fw-bold mb-3">جلستي – الكرسي الصحي الذكي</h1>
    <p class="lead">تطبيق يربطك بكرسي ذكي لتحسين وضعية الجلوس وتقليل المشاكل الصحية.</p>
    <p>يعاني أكثر من <strong>60%</strong> من الموظفين والطلاب من مشاكل صحية بسبب الجلوس الطويل. “جلستي” يقدم حلاً ذكياً.</p>
    <a href="#form" class="btn btn-primary mt-3">ابدأ الآن</a>
  </div>
</section>

<!-- Problem -->
<section id="problem">
  <div class="section-box">
    <h2 class="section-title">مشكلة البحث</h2>
    <div class="row g-4">
      <div class="col-md-4"><div class="icon-card"><div class="icon">🪑</div><h5>الجلوس الطويل</h5><p>يسبب أمراض مزمنة.</p></div></div>
      <div class="col-md-4"><div class="icon-card"><div class="icon">❌</div><h5>قلة الوعي</h5><p>غياب الثقافة الصحية.</p></div></div>
      <div class="col-md-4"><div class="icon-card"><div class="icon">📉</div><h5>غياب الأدوات</h5><p>لا توجد تقنيات تراقب الجلوس.</p></div></div>
    </div>
  </div>
</section>

<!-- Goals -->
<section id="goals">
  <div class="section-box">
    <h2 class="section-title">أهداف المشروع</h2>
    <div class="row g-4">
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">🛠️</div><h6>كرسي ذكي</h6><p>مستشعرات مدمجة.</p></div></div>
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">📱</div><h6>تطبيق متصل</h6><p>يربط الهاتف بالكرسي.</p></div></div>
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">💡</div><h6>توصيات صحية</h6><p>مخصصة حسب البيانات.</p></div></div>
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">📊</div><h6>تحليل بيانات</h6><p>تحسين العادات الصحية.</p></div></div>
    </div>
  </div>
</section>

<!-- Form -->
<section id="form">
  <div class="section-box">
    <h2 class="section-title">بياناتك</h2>
    <form method="post" action="/calculate#advice" class="row g-3">
      <div class="col-md-6">
        <label class="form-label">الاسم</label>
        <input type="text" name="name" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">العمر</label>
        <input type="number" name="age" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">الطول (سم)</label>
        <input type="number" name="height" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">الوزن (كجم)</label>
        <input type="number" name="weight" class="form-control" required>
      </div>
      <div class="col-12">
        <label class="form-label">الحالة الصحية</label>
        <select name="condition" class="form-select" required>
          <option value="">اختر...</option>
          <option>سليم</option>
          <option>ضغط دم عالي</option>
          <option>مشاكل في الظهر</option>
          <option>أخرى</option>
        </select>
      </div>
      <div class="col-12">
        <button class="btn btn-success" type="submit">احسب جلستي الصحية</button>
      </div>
    </form>
  </div>

  {% if show_advice %}
  <div class="section-box mt-5" id="advice">
    <h2 class="section-title">تحليل حالتك الصحية</h2>
    <p><strong>مرحبًا {{ name }}!</strong> بناءً على بياناتك، إليك ملخص جلستك الصحية:</p>

    <ul>
      <li><strong>العمر:</strong> {{ age }} سنة – كلما زاد العمر، زادت الحاجة للراحة كل 40 دقيقة.</li>
      <li><strong>الوزن والطول:</strong> مؤشر كتلة الجسم يشير إلى <strong>{{ bmi_category }}</strong>.</li>
      <li><strong>حالتك الصحية:</strong> {{ condition }} – تم تخصيص التوصيات بناءً عليها.</li>
    </ul>

    <hr/>

    <p><strong>توصيات جلستك الذكية:</strong></p>
    <ul>
      <li>استخدم الكرسي الصحي لضبط الوضعية وتخفيف الضغط على العمود الفقري.</li>
      <li>تأكد من أخذ استراحة قصيرة (2–5 دقائق) كل 40 دقيقة على الأقل.</li>
      {% if condition == 'مشاكل في الظهر' %}
      <li>استخدم دعم قطني وتجنب الجلوس المتواصل لأكثر من 30 دقيقة.</li>
      {% endif %}
      {% if condition == 'ضغط دم عالي' %}
      <li>تجنّب الانحناء الطويل، وحافظ على استقامة الرقبة والظهر.</li>
      {% endif %}
      <li>تابع بياناتك عبر التطبيق الذكي.</li>
    </ul>

    <div class="alert alert-info mt-4">
      <strong>نصيحة اليوم:</strong> حاول الوقوف والمشي لبضع دقائق بعد كل جلسة طويلة.
    </div>
  </div>
  {% endif %}
</section>


<section id="components">
  <div class="section-box">
    <h2 class="section-title">مكونات الكرسي الذكي</h2>

    <div class="position-relative mx-auto" style="max-width: 600px;">
      <img src="{{ url_for('static', filename='images/chair-demo.png') }}" alt="الكرسي الذكي" class="img-fluid rounded shadow"/>

      <!-- نقاط تفاعلية -->
      <span class="hotspot" style="top: 26%; left: 52%;" data-text="هذه لوحة شمسية لتغذية الكرسي بالطاقة."></span>
      <span class="hotspot" style="top: 34%; left: 62%;" data-text="مستشعر حرارة يتتبع درجة حرارة المستخدم."></span>
      <span class="hotspot" style="top: 48%; left: 38%;" data-text="مستشعر وزن يتعرف على الجلوس والحمل."></span>
      <span class="hotspot" style="top: 45%; left: 80%;" data-text="وحدة التحكم الذكية تدير التنبيهات والتوصيات."></span>
      <span class="hotspot" style="top: 72%; left: 60%;" data-text="لوحة جانبية قابلة للطي لتثبيت أدوات إضافية."></span>

      <!-- نافذة النص التفاعلي -->
      <div id="hotspot-info" class="hotspot-popup d-none"></div>
    </div>
  </div>
</section>


<!-- Features -->
<section id="features">
  <div class="section-box">
    <h2 class="section-title">الميزات الذكية</h2>
    <div class="row g-4">
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">🔔</div><h6>تنبيهات</h6><p>عند وضعية غير صحيحة.</p></div></div>
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">📈</div><h6>تحليل أسبوعي</h6><p>يعرض أداء جلوسك.</p></div></div>
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">🪑</div><h6>تعديل تلقائي</h6><p>يصحح وضعيتك تلقائياً.</p></div></div>
      <div class="col-md-3 col-sm-6"><div class="icon-card"><div class="icon">📲</div><h6>تطبيق مرافق</h6><p>يعرض كل بياناتك.</p></div></div>
    </div>
  </div>
</section>

<!-- App/Dashboard -->
<section id="app">
  <div class="section-box">
    <h2 class="section-title">لوحة التحكم الذكية</h2>

    <!-- بطاقات سريعة -->
    <div class="row g-4 mb-5 text-center">
      <div class="col-md-3 col-sm-6">
        <div class="icon-card">
          <div class="icon">⏱️</div>
          <h6>مدة الجلوس</h6>
          <p class="fs-5 fw-bold text-muted">1h 32m</p>
        </div>
      </div>
      <div class="col-md-3 col-sm-6">
        <div class="icon-card">
          <div class="icon">📢</div>
          <h6>آخر تنبيه</h6>
          <p class="text-danger fw-semibold">قبل 10 دقائق</p>
        </div>
      </div>
      <div class="col-md-3 col-sm-6">
        <div class="icon-card">
          <div class="icon">🪑</div>
          <h6>وضعيتك الحالية</h6>
          <p class="text-success fw-semibold">صحية</p>
        </div>
      </div>
      <div class="col-md-3 col-sm-6">
        <div class="icon-card">
          <div class="icon">🧠</div>
          <h6>نصيحة اليوم</h6>
          <p class="text-muted">تمدد كل 40 دقيقة</p>
        </div>
      </div>
    </div>

    <!-- الرسوم البيانية -->
    <div class="row g-4">
      <div class="col-md-6">
        <div class="p-4 rounded bg-white shadow-sm">
          <h6 class="mb-3">نسبة الجلوس اليوم</h6>
          <div style="height: 200px;">
            <canvas id="sittingChart"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="p-4 rounded bg-white shadow-sm">
          <h6 class="mb-3">عدد التنبيهات خلال الأسبوع</h6>
          <div style="height: 200px;">
            <canvas id="alertsChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Conclusion -->
<section id="conclusion">
  <div class="section-box text-center">
    <h2 class="section-title">الخاتمة</h2>
    <p class="lead">"هذا المشروع ليس فكرة نظرية، بل بداية لتغيير جذري في طريقة تعاملنا مع بيئات الجلوس الذكي."</p>
    <p>نهدف إلى تطوير جلستي ليصبح جزءًا من بيئات العمل والمدارس لتحسين جودة الحياة والصحة العامة.</p>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const sittingCtx = document.getElementById('sittingChart').getContext('2d');
  new Chart(sittingCtx, {
    type: 'doughnut',
    data: {
      labels: ['جلوس', 'راحة'],
      datasets: [{
        data: [75, 25],
        backgroundColor: ['#007bff', '#d9ecff']
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom'
        }
      }
    }
  });

  const alertsCtx = document.getElementById('alertsChart').getContext('2d');
  new Chart(alertsCtx, {
    type: 'bar',
    data: {
      labels: ['الأحد', 'الإثنين', 'الثلاثاء', 'الأربعاء', 'الخميس'],
      datasets: [{
        label: 'عدد التنبيهات',
        data: [2, 4, 3, 5, 6],
        backgroundColor: '#007bff'
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: true,
          position: 'top'
        }
      },
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>
<script>
  const hotspots = document.querySelectorAll(".hotspot");
  const popup = document.getElementById("hotspot-info");

  hotspots.forEach(h => {
    h.addEventListener("click", (e) => {
      const rect = h.getBoundingClientRect();
      popup.textContent = h.dataset.text;
      popup.style.top = `${h.offsetTop - 40}px`;
      popup.style.left = `${h.offsetLeft + 20}px`;
      popup.classList.remove("d-none");
    });
  });

  document.addEventListener("click", (e) => {
    if (!e.target.classList.contains("hotspot")) {
      popup.classList.add("d-none");
    }
  });
</script>



</body>
</html>
